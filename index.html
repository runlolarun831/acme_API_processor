<html>
  <head>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js'></script>
  </head>
  <body>
    <script>
      const loadData = async()=> {
        const urls = [
          'https://acme-users-api-rev.herokuapp.com/api/companies',
          'https://acme-users-api-rev.herokuapp.com/api/products',
          'https://acme-users-api-rev.herokuapp.com/api/offerings',
        ];
      const responses = await Promise.all(urls.map( url=> axios.get(url)));

      const [companies, products, offerings ] = responses.map( response => response.data);
      //console.log(companies);
/*
      //return products within a price range
      const findProductsInPrice = (products, range) => products.filter(product => product.suggestedPrice >= range.min && product.suggestedPrice <= range.max);

      const productsInPriceRange = findProductsInPrice(products, { min: 1, max: 15});
      console.log(productsInPriceRange);
*/
      // returns object where key is first letter of company name
      // value for each key is the array of those companies
      const groupCompaniesByLetter = (companies) => companies.map(company => (company.name).charAt(0));

      const groupedCompaniesByLetter = groupCompaniesByLetter(companies);
      console.log(groupedCompaniesByLetter);


      //example
      const companiesByState = (companies, state) => companies.filter(company => company.state === state);

      //returns companiesByState
      const companiesInTexas = companiesByState(companies, 'Texas');
      console.log(companiesInTexas);
      } ;
      loadData();

    </script>
  </body>
</html>
